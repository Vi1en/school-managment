import{j as e}from"./ui-aae23e34.js";import{r as i}from"./vendor-280e31ee.js";import{a as v,I as l,B as S}from"./index-29afb094.js";import"./router-b40667b9.js";const q=()=>{const{setError:n,clearError:g}=v(),[f,h]=i.useState(!1),[d,u]=i.useState(!1),[a,j]=i.useState({schoolName:"Shinde Academy",schoolAddress:"123 School Street, City, State 12345",schoolPhone:"+1 (555) 123-4567",schoolEmail:"info@shindeacademy.com",principalName:"Dr. John Smith",academicYear:"2024-25",defaultFee:1e3,lateFeeAmount:50,lateFeeDays:30}),[t,x]=i.useState({});i.useEffect(()=>{p()},[]);const p=async()=>{try{h(!0)}catch{n("Failed to fetch settings")}finally{h(!1)}},r=s=>{const{name:o,value:c,type:N}=s.target;j(m=>({...m,[o]:N==="number"?c===""?0:parseFloat(c):c})),t[o]&&x(m=>({...m,[o]:""}))},y=()=>{const s={};return a.schoolName.trim()||(s.schoolName="School name is required"),a.schoolAddress.trim()||(s.schoolAddress="School address is required"),a.schoolPhone.trim()||(s.schoolPhone="School phone is required"),a.schoolEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.schoolEmail)||(s.schoolEmail="Please enter a valid email address"):s.schoolEmail="School email is required",a.principalName.trim()||(s.principalName="Principal name is required"),a.academicYear.trim()||(s.academicYear="Academic year is required"),a.defaultFee<=0&&(s.defaultFee="Default fee must be greater than 0"),a.lateFeeAmount<0&&(s.lateFeeAmount="Late fee amount cannot be negative"),a.lateFeeDays<=0&&(s.lateFeeDays="Late fee days must be greater than 0"),x(s),Object.keys(s).length===0},b=async s=>{if(s.preventDefault(),!!y()){u(!0),g();try{n("Settings saved successfully!")}catch{n("Failed to save settings")}finally{u(!1)}}};return f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading settings..."})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"School Settings"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"School Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{label:"School Name *",name:"schoolName",value:a.schoolName,onChange:r,error:t.schoolName,required:!0}),e.jsx(l,{label:"School Phone *",name:"schoolPhone",value:a.schoolPhone,onChange:r,error:t.schoolPhone,required:!0}),e.jsx(l,{label:"School Email *",name:"schoolEmail",type:"email",value:a.schoolEmail,onChange:r,error:t.schoolEmail,required:!0}),e.jsx(l,{label:"Principal Name *",name:"principalName",value:a.principalName,onChange:r,error:t.principalName,required:!0})]}),e.jsx("div",{className:"mt-6",children:e.jsx(l,{label:"School Address *",name:"schoolAddress",value:a.schoolAddress,onChange:r,error:t.schoolAddress,required:!0})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Academic Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsx(l,{label:"Academic Year *",name:"academicYear",value:a.academicYear,onChange:r,error:t.academicYear,required:!0})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Fee Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(l,{label:"Default Fee *",name:"defaultFee",type:"number",min:"0",value:a.defaultFee,onChange:r,error:t.defaultFee,required:!0}),e.jsx(l,{label:"Late Fee Amount",name:"lateFeeAmount",type:"number",min:"0",value:a.lateFeeAmount,onChange:r,error:t.lateFeeAmount}),e.jsx(l,{label:"Late Fee Days",name:"lateFeeDays",type:"number",min:"1",value:a.lateFeeDays,onChange:r,error:t.lateFeeDays})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(S,{type:"submit",variant:"primary",loading:d,disabled:d,children:d?"Saving...":"Save Settings"})})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Information"}),e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Application Version"}),e.jsx("dd",{className:"text-sm text-gray-900",children:"2.0.0"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),e.jsx("dd",{className:"text-sm text-gray-900",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Database Status"}),e.jsx("dd",{className:"text-sm text-green-600",children:"Connected"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Server Status"}),e.jsx("dd",{className:"text-sm text-green-600",children:"Online"})]})]})]})]})};export{q as default};
