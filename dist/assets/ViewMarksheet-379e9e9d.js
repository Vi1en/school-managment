import{j as e}from"./ui-aae23e34.js";import{r as d}from"./vendor-280e31ee.js";import{a as h,B as n,f as A,d as p}from"./index-17fdcdb3.js";import{c as b,a as g}from"./router-b40667b9.js";const u=()=>{const{rollNumber:t}=b(),i=g(),{setError:o}=h(),[s,c]=d.useState(null),[x,l]=d.useState(!0);d.useEffect(()=>{t&&m(t)},[t]);const m=async r=>{try{l(!0),c({id:"1",rollNumber:r,studentName:"John Doe",fatherName:"Robert Doe",motherName:"Jane Doe",dob:"2010-05-15",currentClass:"10",bloodGroup:"O+",address:"123 Main St, City",phoneNumber:"1234567890",photo:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",examType:"Half-Yearly",academicYear:"2024-25",subjects:[{id:"1",name:"MATHEMATICS",code:"041",marks:85,maxMarks:100},{id:"2",name:"PHYSICS",code:"042",marks:78,maxMarks:100},{id:"3",name:"CHEMISTRY",code:"043",marks:82,maxMarks:100},{id:"4",name:"BIOLOGY",code:"044",marks:90,maxMarks:100},{id:"5",name:"ENGLISH",code:"101",marks:75,maxMarks:100}],totalMarks:410,maxTotalMarks:500,percentage:82,rank:1,promotionStatus:"Promoted",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"})}catch{o("Failed to fetch marksheet")}finally{l(!1)}};return x?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading marksheet..."})]})}):s?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white shadow-lg print:shadow-none print:bg-white",id:"marksheet-print",children:[e.jsx("div",{className:"border-b-4 border-blue-600 p-6 print:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/image.png",alt:"School Logo",className:"h-16 w-16 mr-4 print:h-12 print:w-12",style:{marginLeft:"-8px"}}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-blue-800 print:text-xl",children:"SHINDE ACADEMY"}),e.jsx("p",{className:"text-sm text-gray-600 print:text-xs",children:"Academic Excellence Since 1995"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 print:text-lg",children:"REPORT CARD"}),e.jsx("p",{className:"text-sm text-gray-600 print:text-xs",children:s.academicYear})]})]})}),e.jsxs("div",{className:"p-6 print:p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm print:text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Student Name:"})," ",s.studentName]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Roll Number:"})," ",s.rollNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Father's Name:"})," ",s.fatherName]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Class:"})," ",s.currentClass]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Mother's Name:"})," ",s.motherName]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Blood Group:"})," ",s.bloodGroup]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Date of Birth:"})," ",A(s.dob,"short")]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Exam Type:"})," ",s.examType]})]})}),e.jsx("div",{className:"ml-6",children:s.photo?e.jsx("img",{src:s.photo,alt:"Student Photo",className:"h-24 w-20 object-cover border-2 border-gray-300 print:h-20 print:w-16"}):e.jsx("div",{className:"h-24 w-20 border-2 border-gray-300 flex items-center justify-center bg-gray-100 print:h-20 print:w-16",children:e.jsx("span",{className:"text-xs text-gray-500",children:"Photo"})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-center mb-4 print:text-base",children:"ACADEMIC PERFORMANCE"}),e.jsxs("table",{className:"w-full border-collapse border border-gray-400 print:text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-50 print:bg-gray-100",children:[e.jsx("th",{className:"border border-gray-400 px-3 py-2 text-left font-semibold",children:"SUBJECT"}),e.jsx("th",{className:"border border-gray-400 px-3 py-2 text-center font-semibold",children:"CODE"}),e.jsx("th",{className:"border border-gray-400 px-3 py-2 text-center font-semibold",children:"MARKS OBTAINED"}),e.jsx("th",{className:"border border-gray-400 px-3 py-2 text-center font-semibold",children:"MAX MARKS"})]})}),e.jsxs("tbody",{children:[s.subjects.map((r,a)=>e.jsxs("tr",{className:a%2===0?"bg-gray-50 print:bg-white":"bg-white",children:[e.jsx("td",{className:"border border-gray-400 px-3 py-2 font-medium",children:r.name}),e.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:r.code}),e.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center font-semibold",children:r.marks}),e.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:r.maxMarks})]},r.id)),e.jsxs("tr",{className:"bg-blue-100 print:bg-gray-200 font-bold",children:[e.jsx("td",{className:"border border-gray-400 px-3 py-2",colSpan:2,children:"TOTAL"}),e.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:s.totalMarks}),e.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:s.maxTotalMarks})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 print:text-xs",children:[e.jsxs("div",{className:"text-center border border-gray-300 p-3 print:p-2",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600 print:text-base",children:p(s.percentage)}),e.jsx("div",{className:"text-sm text-gray-600",children:"PERCENTAGE"})]}),e.jsxs("div",{className:"text-center border border-gray-300 p-3 print:p-2",children:[e.jsx("div",{className:"text-lg font-bold text-green-600 print:text-base",children:s.rank?`#${s.rank}`:"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"RANK"})]}),e.jsxs("div",{className:"text-center border border-gray-300 p-3 print:p-2",children:[e.jsx("div",{className:`text-lg font-bold print:text-base ${s.promotionStatus==="Promoted"?"text-green-600":"text-red-600"}`,children:s.promotionStatus}),e.jsx("div",{className:"text-sm text-gray-600",children:"STATUS"})]})]}),e.jsxs("div",{className:"text-center text-xs text-gray-600 print:text-xs",children:[e.jsx("p",{children:"This is a computer generated report card and does not require signature."}),e.jsxs("p",{className:"mt-2",children:["Generated on: ",new Date().toLocaleDateString("en-IN")]})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4 print:hidden",children:[e.jsx(n,{variant:"secondary",onClick:()=>i("/marksheets"),children:"Back to Marksheets"}),e.jsx(n,{variant:"primary",onClick:()=>window.print(),children:"Print Marksheet"})]})]}):e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Marksheet Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The marksheet you're looking for doesn't exist."}),e.jsx(n,{variant:"primary",onClick:()=>i("/marksheets"),children:"Back to Marksheets"})]})})};export{u as default};
