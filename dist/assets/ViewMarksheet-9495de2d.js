import{j as e}from"./ui-aae23e34.js";import{r as d}from"./vendor-280e31ee.js";import{a as j,B as a,f as N,d as x}from"./index-549a02dc.js";import{c as g,a as p}from"./router-b40667b9.js";const v=()=>{const{rollNumber:r}=g(),l=p(),{setError:c}=j(),[s,m]=d.useState(null),[n,i]=d.useState(!0);d.useEffect(()=>{r&&o(r)},[r]);const o=async t=>{try{i(!0),m({id:"1",rollNumber:t,studentName:"John Doe",fatherName:"Robert Doe",motherName:"Jane Doe",dob:"2010-05-15",currentClass:"10",bloodGroup:"O+",address:"123 Main St, City",phoneNumber:"1234567890",photo:void 0,examType:"Half-Yearly",academicYear:"2024-25",subjects:[{id:"1",name:"MATHEMATICS",code:"041",marks:85,maxMarks:100},{id:"2",name:"PHYSICS",code:"042",marks:78,maxMarks:100},{id:"3",name:"CHEMISTRY",code:"043",marks:82,maxMarks:100},{id:"4",name:"BIOLOGY",code:"044",marks:90,maxMarks:100},{id:"5",name:"ENGLISH",code:"101",marks:75,maxMarks:100}],totalMarks:410,maxTotalMarks:500,percentage:82,rank:1,promotionStatus:"Promoted",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"})}catch{c("Failed to fetch marksheet")}finally{i(!1)}};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading marksheet..."})]})}):s?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Marksheet - ",s.studentName]}),e.jsxs("p",{className:"text-gray-600",children:["Roll Number: ",s.rollNumber]}),e.jsxs("p",{className:"text-gray-600",children:["Exam Type: ",s.examType]})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(a,{variant:"secondary",onClick:()=>window.print(),children:"Print Marksheet"})})]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Student Name"}),e.jsx("dd",{className:"text-sm text-gray-900",children:s.studentName})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Father's Name"}),e.jsx("dd",{className:"text-sm text-gray-900",children:s.fatherName})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Mother's Name"}),e.jsx("dd",{className:"text-sm text-gray-900",children:s.motherName})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),e.jsx("dd",{className:"text-sm text-gray-900",children:N(s.dob,"long")})]})]})}),e.jsx("div",{children:e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Roll Number"}),e.jsx("dd",{className:"text-sm text-gray-900",children:s.rollNumber})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Class"}),e.jsxs("dd",{className:"text-sm text-gray-900",children:["Class ",s.currentClass]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Blood Group"}),e.jsx("dd",{className:"text-sm text-gray-900",children:s.bloodGroup})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Academic Year"}),e.jsx("dd",{className:"text-sm text-gray-900",children:s.academicYear})]})]})})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subject Marks"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marks Obtained"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Max Marks"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.subjects.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.marks}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.maxMarks}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x(t.marks/t.maxMarks*100)})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.totalMarks}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Marks"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.maxTotalMarks}),e.jsx("div",{className:"text-sm text-gray-500",children:"Max Marks"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x(s.percentage)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Percentage"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.rank?`#${s.rank}`:"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Rank"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("span",{className:`inline-flex px-4 py-2 text-sm font-semibold rounded-full ${s.promotionStatus==="Promoted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.promotionStatus})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(a,{variant:"secondary",onClick:()=>l("/marksheets"),children:"Back to Marksheets"}),e.jsx(a,{variant:"primary",onClick:()=>window.print(),children:"Print Marksheet"})]})]}):e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Marksheet Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The marksheet you're looking for doesn't exist."}),e.jsx(a,{variant:"primary",onClick:()=>l("/marksheets"),children:"Back to Marksheets"})]})})};export{v as default};
