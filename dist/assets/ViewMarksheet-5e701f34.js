import{j as e}from"./ui-aae23e34.js";import{r as i}from"./vendor-280e31ee.js";import{a as A,B as n,d as g}from"./index-0b20c233.js";import{c as p,a as m}from"./router-b40667b9.js";const b=()=>{const{rollNumber:s}=p(),o=m(),{setError:a}=A(),[t,x]=i.useState(null),[c,d]=i.useState(!0);i.useEffect(()=>{s&&h(s)},[s]);const h=async r=>{try{d(!0),x({id:"1",rollNumber:r,studentName:"John Doe",fatherName:"Robert Doe",motherName:"Jane Doe",dob:"2010-05-15",currentClass:"10",bloodGroup:"O+",address:"123 Main St, City",phoneNumber:"1234567890",photo:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",examType:"Half-Yearly",academicYear:"2024-25",subjects:[{id:"1",name:"MATHEMATICS",code:"041",marks:85,maxMarks:100},{id:"2",name:"PHYSICS",code:"042",marks:78,maxMarks:100},{id:"3",name:"CHEMISTRY",code:"043",marks:82,maxMarks:100},{id:"4",name:"BIOLOGY",code:"044",marks:90,maxMarks:100},{id:"5",name:"ENGLISH",code:"101",marks:75,maxMarks:100}],totalMarks:410,maxTotalMarks:500,percentage:82,rank:1,promotionStatus:"Promoted",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"})}catch{a("Failed to fetch marksheet")}finally{d(!1)}};return c?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading marksheet..."})]})}):t?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white shadow-lg print:shadow-none print:bg-white",id:"marksheet-print",style:{fontFamily:"Arial, sans-serif",border:"2px solid #1e40af",padding:"0"},children:[e.jsxs("div",{style:{padding:"20px",textAlign:"center",borderBottom:"2px solid #1e40af"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:[e.jsx("img",{src:"./image.png",alt:"School Logo",style:{height:"60px",width:"60px",marginRight:"15px"},onError:r=>{console.log("Logo image failed to load, trying alternative path"),r.currentTarget.src="/image.png"}}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#1e40af",margin:0,letterSpacing:"2px"},children:"SHINDE ACADEMY"}),e.jsx("p",{style:{fontSize:"14px",color:"#059669",margin:"5px 0 0 0",fontWeight:"bold"},children:"DUNCAN ROAD, TUMARIYATOLA, RAXAUL, BIHAR"})]})]}),e.jsxs("div",{style:{marginTop:"10px"},children:[e.jsx("p",{style:{fontSize:"16px",color:"#059669",margin:"5px 0",fontWeight:"bold"},children:"SESSION 2025-26"}),e.jsx("p",{style:{fontSize:"18px",color:"#059669",margin:"5px 0",fontWeight:"bold"},children:"REPORT CARD OF HALF YEARLY EXAMINATION"})]})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsx("div",{style:{flex:1},children:e.jsxs("div",{style:{fontSize:"14px",lineHeight:"1.8"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ROLL NO.:"})," ",t.rollNumber]}),e.jsxs("div",{children:[e.jsx("strong",{children:"STUDENT'S NAME:"})," ",t.studentName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"CLASS:"})," ",t.currentClass,"th"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"FATHER'S NAME:"})," ",t.fatherName]}),e.jsxs("div",{children:[e.jsx("strong",{children:"DOB:"})," ",new Date(t.dob).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"BLOOD GROUP:"})," ",t.bloodGroup]})]})}),e.jsx("div",{style:{marginLeft:"20px"},children:t.photo?e.jsx("img",{src:t.photo,alt:"Student Photo",style:{height:"100px",width:"80px",objectFit:"cover",border:"2px solid #000"}}):e.jsx("div",{style:{height:"100px",width:"80px",border:"2px solid #000",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6"},children:e.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Photo"})})})]}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px",border:"2px solid #000"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"left",fontWeight:"bold",backgroundColor:"#f0f0f0"},children:"Subjects with code"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",backgroundColor:"#f0f0f0"},children:"UT1"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",backgroundColor:"#f0f0f0"},children:"UT2"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",backgroundColor:"#f0f0f0"},children:"HFLY"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",backgroundColor:"#f0f0f0"},children:"TOTAL"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold",backgroundColor:"#f0f0f0"},children:"GRADE"})]})}),e.jsx("tbody",{children:t.subjects.map((r,l)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",fontWeight:"500"},children:[r.name," (",r.code,")"]}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:Math.floor(r.marks*.1)}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:Math.floor(r.marks*.1)}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:Math.floor(r.marks*.8)}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold"},children:r.marks}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",fontWeight:"bold"},children:r.marks>=90?"A+":r.marks>=80?"A":r.marks>=70?"B":r.marks>=60?"C":r.marks>=50?"D":"F"})]},r.id))})]})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("div",{style:{border:"1px solid #000",padding:"10px",width:"48%",fontSize:"12px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"RESULT:"})," ",t.promotionStatus]}),e.jsxs("div",{children:[e.jsx("strong",{children:"NO.of School days:"})," 105"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"NO.of days Present:"})," 95"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"DATE:"})," ",new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")]})]}),e.jsxs("div",{style:{border:"1px solid #000",padding:"10px",width:"48%",fontSize:"12px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"TOTAL MARKS:"})," ",t.totalMarks]}),e.jsxs("div",{children:[e.jsx("strong",{children:"PERCENTAGE:"})," ",g(t.percentage)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"OVERALL GRADE:"})," ",t.percentage>=90?"A+":t.percentage>=80?"A":t.percentage>=70?"B":t.percentage>=60?"C":t.percentage>=50?"D":"F"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"RANK:"})," ",t.rank?`${t.rank}th`:"N/A"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px",fontSize:"12px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{borderBottom:"1px solid #000",width:"150px",marginBottom:"5px"}}),e.jsx("div",{children:"Principal's Signature"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{borderBottom:"1px solid #000",width:"150px",marginBottom:"5px"}}),e.jsx("div",{children:"Teacher's Signature"})]})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4 print:hidden",children:[e.jsx(n,{variant:"secondary",onClick:()=>o("/marksheets"),children:"Back to Marksheets"}),e.jsx(n,{variant:"primary",onClick:()=>window.print(),children:"Print Marksheet"})]})]}):e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Marksheet Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The marksheet you're looking for doesn't exist."}),e.jsx(n,{variant:"primary",onClick:()=>o("/marksheets"),children:"Back to Marksheets"})]})})};export{b as default};
